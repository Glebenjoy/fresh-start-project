# Implementation Plan: Visura AI

## üóì Phase 1: Data & Logic (Backend)
**–°—Ä–æ–∫:** 2-3 –¥–Ω—è
1.  **Supabase:**
    * –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.
    * –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `dreams` —Å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ RLS (—Ä–∞–∑—Ä–µ—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–∞–º, —á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º).
    * –°–æ–∑–¥–∞—Ç—å Storage Bucket `visura-images` (public).
2.  **n8n Workflow:**
    * Webhook (POST): –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `{ text, session_id }`.
    * **Claude Node:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON `{ title, preview, full_text, image_prompt }`.
    * **DALL-E 3 Node:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –ø–æ `image_prompt`.
    * **Storage Upload:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ Supabase.
    * **Response:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π JSON –Ω–∞ —Ñ—Ä–æ–Ω—Ç.

## üóì Phase 2: Frontend MVP (Input First)
**–°—Ä–æ–∫:** 3-5 –¥–Ω–µ–π
1.  **–°–±–æ—Ä–∫–∞ –ì–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞:**
    * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –≥–æ–ª–æ—Å–∞ (Web Speech API) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç.
    * –ö—Ä–∞—Å–∏–≤—ã–π UI —Å —Ç—É–º–∞–Ω–æ–º.
2.  **–≠–∫—Ä–∞–Ω –†–µ–∑—É–ª—å—Ç–∞—Ç–∞ (Guest Mode):**
    * –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: `Image` = Visible, `Text` = Blurred (CSS mask).
    * –ö–Ω–æ–ø–∫–∞ "Unlock" –≤—ã–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
3.  **Auth Integration:**
    * –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Supabase Auth.
    * –õ–æ–≥–∏–∫–∞ "Link Dream": –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ ID —Ç–µ–∫—É—â–µ–≥–æ —Å–Ω–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –Ω–æ–≤–æ–º—É User ID.

## üóì Phase 3: Visual Polish (Design)
**–°—Ä–æ–∫:** 2-3 –¥–Ω—è
1.  **Styling:**
    * –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã "Ethereal Amber".
    * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Glassmorphism –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫.
2.  **Animations:**
    * –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (Fade In).
    * –ü—É–ª—å—Å–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –≤–≤–æ–¥–∞.

## üóì Phase 4: Launch Prep
1.  **Safe Guarding Test:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—à–º–∞—Ä–∞—Ö (AI –¥–æ–ª–∂–µ–Ω —É—Å–ø–æ–∫–∞–∏–≤–∞—Ç—å, –∞ –Ω–µ –ø—É–≥–∞—Ç—å).
2.  **PWA Setup:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω.